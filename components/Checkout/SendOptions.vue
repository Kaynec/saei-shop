<template>
  <MyCard class="!shadow-0 !border-none flex flex-col lg:flex-row gap-4">
    <!-- Heading And Right Side -->
    <div class="flex-1">
      <div class="flex flex-1 flex-col gap-4">
        <div class="w-full">
          <div class="flex items-center max-h-10 gap-2">
            <div class="text bg-grey-50 shadow-lg rounded w-9 h-9 flex-center">
              <Icon
                name="mdi:truck-fast-outline"
                class="text-2xl text-grey-400"
              />
            </div>
            نحوه ارسال
          </div>
          <Divider />
        </div>

        <!--  -->
      </div>
      <div class="flex flex-col gap-4">
        <div
          v-for="option in sendOptions"
          class="flex items-center gap-4 border-b-2 border-b-grey-50 border-solid pb-4"
        >
          <RadioButton
            @change="toggleChanged(option)"
            v-model="option.value"
            :value="true"
          />
          <span v-html="option.image()" class=""></span>
          <div class="">
            <p class="text-lg font-semibold">{{ option.name }}</p>
            <p class="text-sm text-grey-400">
              {{ option.description }}
            </p>
          </div>
        </div>
        <KeepAlive>
          <component :is="currentOption.component" />
        </KeepAlive>
        <!--  -->
      </div>
    </div>
    <!-- Left Side -->
    <PriceInfo />
  </MyCard>
</template>

<script setup lang="ts">
import InPerson from "./PaymentOptions/InPerson.vue";
import Bike from "./PaymentOptions/Bike.vue";
import Postal from "./PaymentOptions/Postal.vue";

const currentOption = computed(() => sendOptions.value.find((el) => el.value)!);

const sendOptions = ref([
  {
    name: "تحویل حضوری",
    component: markRaw(InPerson),
    description:
      "کاربر گرامی در این روش شما به صورت حضوری بسته خود را از ما دریافت خواهید کرد.",
    image() {
      const fillClr = this.value ? "#FDAF4B" : "#9F9F9F";
      return `<svg width="36" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_84_45921)">
<path d="M1.01172 23.2861H22.9877V24.0011H1.01172V23.2861Z" fill="${fillClr}"/>
<path d="M17.479 5.45798C18.9862 5.45798 20.208 4.23617 20.208 2.72899C20.208 1.22181 18.9862 0 17.479 0C15.9718 0 14.75 1.22181 14.75 2.72899C14.75 4.23617 15.9718 5.45798 17.479 5.45798Z" fill="${fillClr}"/>
<path d="M14.7239 22.8245L14.7169 22.9724L15.7185 23.0918L15.8279 22.1534L15.841 22.0532L15.8595 21.8922L15.8734 21.8937L16.5206 17.9605L14.824 17.838L14.2346 21.6819L14.2146 21.8622L14.0566 21.8444L13.1213 21.9353L13.0234 22.7767L13.8008 22.8676L14.7239 22.8245ZM17.3673 22.2559L17.5014 23.0918L18.2718 22.9685L19.1502 22.6765L19.1818 22.8221L20.1811 22.6627L20.0324 21.7319L20.0154 21.6302L19.9977 21.517L20.0069 21.5147L19.1086 18.2564L18.9306 14.2191L19.2303 14.1752V5.86035H15.3325L15.4142 10.4254L16.4944 6.1408L16.761 6.2294L18.4506 6.65547L18.6371 6.7017L18.5893 6.88892L16.8026 13.9757L16.7563 14.1613L16.5683 14.1136L16.5229 14.0935L16.5183 14.27L18.1316 14.347L17.9036 18.0252L17.385 18.0029L18.3982 21.8891L18.2433 21.913L17.3673 22.2559Z" fill="${fillClr}"/>
<path d="M17.8337 14.5464L16.282 14.4547L16.3136 13.8221L16.554 13.8853L18.3099 6.90876L16.7536 6.50195L15.4854 11.4352L15.4869 11.5084L14.9977 13.4777L15.4083 13.5856L15.0323 13.7258L14.99 14.3861L13.2464 14.2621L13.0723 17.5011L17.6473 17.8062L17.8337 14.5464ZM15.8983 14.3538L15.3883 14.3229L15.4045 14.0186L15.9145 14.0487L15.8983 14.3538Z" fill="${fillClr}"/>
</g>
<defs>
<clipPath id="clip0_84_45921">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>
</svg>
`;
    },
    value: true,
    id: 1,
  },
  {
    name: "ارسال با پیک",
    component: markRaw(Bike),
    description:
      "کاربر گرامی در این روش شما بسته خود را از طریق پیک از ما دریافت خواهید کرد.",
    image() {
      const fillClr = this.value ? "#FDAF4B" : "#9F9F9F";
      return `<svg width="36" height="48" viewBox="0 0 24 24" fill="${fillClr}" xmlns="http://www.w3.org/2000/svg">
<path d="M23.25 8.625H12.75C12.525 8.625 12.375 8.775 12.375 9V11.5125L11.4375 11.2875L10.425 10.275C11.55 9.225 11.625 7.0125 11.625 6.375C13.0125 6.375 13.9875 6 14.3625 5.325C14.5125 5.025 14.625 4.5375 14.2125 3.9C13.8 3.3 13.275 3 12.5625 3H11.2125C11.1 2.325 10.65 0.9 8.8875 0.4875C8.5125 0.4125 7.9875 0.375 7.875 0.375C3.975 0.375 3.375 2.25 3.375 3.375V5.25C3.375 5.5125 3.4875 5.8125 3.7125 6.0375C3.525 6.2625 3.375 6.6375 3.375 7.125C3.375 8.0625 4.0125 8.475 4.575 8.5875C4.7625 9.15 5.025 9.5625 5.2875 9.9L3.9 11.2875C3.6 11.625 3.975 11.9625 3.975 11.9625L2.3625 13.575C2.2125 13.7625 0.75 15.2625 0.75 16.5C0.75 16.575 0.75 16.6125 0.7875 16.65L2.6625 20.4C2.7 20.5125 2.8125 20.55 2.8875 20.5875C2.925 20.5875 3.2625 20.7 3.75 20.7C3.75 20.7375 3.7125 22.8375 3.7125 22.8375C3.7125 23.0625 3.8625 23.2125 4.0875 23.2125C4.3125 23.2125 4.4625 23.0625 4.4625 22.8375V21.7875C5.025 22.4625 5.925 23.2125 7.0875 23.2125C8.25 23.2125 10.3875 22.4625 12.2625 21.7875C12.6 21.675 12.9 21.5625 13.2 21.45C13.275 21.4125 13.35 21.4125 13.4625 21.375V22.875C13.4625 23.1 13.6125 23.25 13.8375 23.25C14.0625 23.25 14.2125 23.1 14.2125 22.875V21.1875C14.8875 21.0375 15.525 20.9625 16.0875 21H18.7125C19.35 21 20.2125 20.775 20.475 20.1C20.55 19.9125 20.5875 19.725 20.5875 19.5H23.2125C23.4375 19.5 23.5875 19.35 23.5875 19.125V9C23.625 8.775 23.475 8.625 23.25 8.625ZM19.125 9.375V11.4L18.15 10.9125C18.1125 10.875 18.075 10.875 18 10.875C17.925 10.875 17.8875 10.875 17.85 10.9125L16.875 11.4V9.375H19.125ZM8.175 11.4375C8.1375 11.3625 7.95 11.25 7.95 11.25C8.4 11.25 8.775 11.175 9.15 11.0625L9 11.5125L8.625 12.4875C8.625 12.4875 8.2125 11.4375 8.175 11.4375ZM10.0125 10.9125L10.8 11.7L10.425 12.4125L9.7875 11.55L10.0125 10.9125ZM10.6875 3.75C10.35 4.0125 10.05 4.35 9.825 4.65C9.1875 5.5875 8.625 5.625 8.625 5.625H6.6375C6.7875 5.475 6.9375 5.2875 7.05 5.1C7.5 4.425 8.325 3.75 9 3.75H10.6875ZM13.575 4.35C13.7625 4.6125 13.8 4.8375 13.6875 4.9875C13.5375 5.2875 12.9 5.625 11.625 5.625H11.5875C11.5125 4.95 11.4 4.4625 11.325 4.2C11.7375 3.9375 12.15 3.75 12.5625 3.75C12.975 3.75 13.3125 3.9375 13.575 4.35ZM4.125 3.375C4.125 2.025 5.2125 1.4625 6.45 1.2375C5.8125 1.9125 5.625 2.775 5.625 3.375C5.625 3.6 5.775 3.75 6 3.75C6.1875 3.75 6.375 3.6 6.375 3.375C6.375 3.15 6.45 1.35 8.2875 1.1625C9.9 1.3125 10.35 2.4375 10.4625 3H9C7.9875 3 6.975 3.825 6.45 4.65C5.8125 5.5875 5.25 5.625 5.25 5.625H4.5C4.2 5.625 4.125 5.4375 4.125 5.25V3.375ZM4.875 7.875C4.7625 7.875 4.125 7.8375 4.125 7.125C4.125 6.45 4.425 6.375 4.5 6.375H8.625C8.7375 6.375 9.6 6.3375 10.425 5.1C10.5 4.9875 10.575 4.875 10.6875 4.7625C10.7625 5.1 10.875 5.6625 10.875 6.4125C10.875 6.45 11.025 8.5125 9.9375 9.7125C9.45 10.2375 8.7375 10.5 7.875 10.5C7.8375 10.5 5.8875 10.4625 5.25 8.1375C5.175 7.9875 5.025 7.875 4.875 7.875ZM5.6625 10.6125L7.3125 11.7L6.3 12.975L4.65 11.625L5.6625 10.6125ZM1.5 16.425C1.575 15.6375 2.5125 14.5125 2.8875 14.1375L4.5375 12.4875L6.1125 13.8C6.1875 13.875 6.2625 13.875 6.3375 13.875H6.375C6.4875 13.875 6.5625 13.8 6.6375 13.725L7.725 12.3375L8.25 13.6125C8.325 13.7625 8.4375 13.8375 8.5875 13.8375C8.7375 13.8375 8.8875 13.7625 8.925 13.6125L9.4125 12.375L10.125 13.35C10.2 13.4625 10.3125 13.5 10.4625 13.5C10.575 13.5 10.6875 13.425 10.7625 13.3125L11.3625 12.075L12.3 12.3V18.2625C11.7375 18.45 11.0625 18.675 10.35 18.9C9.7875 19.0875 9.225 19.275 8.7 19.4625C8.0625 19.6875 7.3125 19.425 6.975 18.825L5.5125 16.3125C5.4 16.125 5.175 16.0875 4.9875 16.2C4.8 16.3125 4.7625 16.5375 4.875 16.725L5.925 18.45C5.325 20.2125 3.7125 20.0625 3.225 19.95L1.5 16.425ZM19.8 19.8C19.6875 20.1 19.1625 20.25 18.75 20.25H16.1625C14.925 20.175 13.65 20.55 13.0125 20.775C12.7125 20.8875 12.375 21 12.075 21.1125C10.3125 21.7125 8.175 22.5 7.125 22.5C5.8125 22.5 4.875 21.15 4.575 20.6625C5.2125 20.5125 5.925 20.175 6.45 19.275C6.8625 19.9125 7.575 20.2875 8.325 20.2875C8.55 20.2875 8.775 20.25 9 20.175C9.4875 20.025 10.05 19.8375 10.65 19.6125C12.3 19.05 14.325 18.375 14.85 18.375H17.475C17.5875 18.375 17.8125 18.45 17.85 18.75H16.875C16.65 18.75 16.5 18.9 16.5 19.125C16.5 19.35 16.65 19.5 16.875 19.5C16.875 19.5 19.725 19.5375 19.875 19.5375C19.875 19.6125 19.8375 19.725 19.8 19.8ZM22.875 18.75H18.6C18.5625 17.925 17.925 17.625 17.475 17.625H14.85C14.5125 17.625 13.95 17.775 13.125 18V9.375H16.125V12C16.125 12.1125 16.2 12.2625 16.3125 12.3375C16.425 12.4125 16.575 12.4125 16.6875 12.3375L18.0375 11.6625L19.3875 12.3375C19.3875 12.375 19.425 12.375 19.5 12.375C19.575 12.375 19.65 12.375 19.6875 12.3375C19.8 12.2625 19.875 12.15 19.875 12V9.375H22.875V18.75Z" fill="${fillClr}"/>
<path d="M16.125 16.125H14.625C14.4 16.125 14.25 16.275 14.25 16.5C14.25 16.725 14.4 16.875 14.625 16.875H16.125C16.35 16.875 16.5 16.725 16.5 16.5C16.5 16.275 16.35 16.125 16.125 16.125ZM14.625 15.75H15.375C15.6 15.75 15.75 15.6 15.75 15.375C15.75 15.15 15.6 15 15.375 15H14.625C14.4 15 14.25 15.15 14.25 15.375C14.25 15.6 14.4 15.75 14.625 15.75Z" fill="${fillClr}"/>
</svg>`;
    },
    value: false,
    id: 2,
  },
  {
    name: "ارسال با پست",
    component: markRaw(Postal),
    description:
      "کاربر گرامی در این روش بسته شما را با پست به آدرس و کد پستی شما ارسال می کنیم.",
    image() {
      const fillClr = this.value ? "#FDAF4B" : "#9F9F9F";
      return `<svg width="36" height="48" viewBox="0 0 24 24" fill="${fillClr}" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_84_45945)">
<path d="M22.0902 23.0767H12.7683C11.65 23.0778 10.5486 22.8012 9.56067 22.2712C8.57276 21.7412 7.7286 20.974 7.10234 20.0369L0 9.42756L1.72614 8.43035C2.90397 7.75138 4.29325 7.55155 5.61154 7.87151C6.92982 8.19147 8.07816 9.00719 8.82307 10.1528L12.258 15.4517C12.4051 15.6812 12.6354 15.843 12.8994 15.9024C13.1634 15.9617 13.4398 15.9138 13.6691 15.7689L16.4592 14.0332C17.5762 13.3371 18.5347 12.4096 19.2718 11.3118C20.0088 10.2139 20.5076 8.97069 20.7354 7.66384L21.1684 5.13578L11.1912 11.3701L10.1086 9.59656L24 0.922852L22.7654 8.02629C22.4871 9.62352 21.8773 11.143 20.9763 12.4846C20.0753 13.8262 18.9034 14.9595 17.5379 15.8097L14.7493 17.5468C14.0633 17.9781 13.2375 18.12 12.4492 17.942C11.6609 17.764 10.9731 17.2803 10.5337 16.5949L7.10018 11.3048C6.66585 10.6372 6.0073 10.1512 5.24621 9.93647C4.48512 9.72177 3.67292 9.79292 2.95967 10.1368L8.80936 18.8744C9.24739 19.5276 9.83719 20.0623 10.527 20.4314C11.2169 20.8005 11.9857 20.9928 12.7662 20.9914H18.2716L16.4267 18.1473L18.1514 17.0066L22.0902 23.0767Z" fill="${fillClr}"/>
</g>
<defs>
<clipPath id="clip0_84_45945">
<rect width="24" height="22.1538" fill="white" transform="translate(0 0.922852)"/>
</clipPath>
</defs>
</svg>

`;
    },
    value: false,
    id: 3,
  },
]);
function toggleChanged(option: { value: boolean }) {
  sendOptions.value.forEach((el) => (el.value = false));
  option.value = true;
}
</script>
